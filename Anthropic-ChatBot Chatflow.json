{"nodes":[{"width":300,"height":376,"id":"recursiveCharacterTextSplitter_1","position":{"x":377.2436755848381,"y":124.75083618661063},"type":"customNode","data":{"id":"recursiveCharacterTextSplitter_1","label":"Recursive Character Text Splitter","name":"recursiveCharacterTextSplitter","type":"RecursiveCharacterTextSplitter","baseClasses":["RecursiveCharacterTextSplitter","TextSplitter"],"category":"Text Splitters","description":"Split documents recursively by different characters - starting with \"\n\n\", then \"\n\", then \" \"","inputParams":[{"label":"Chunk Size","name":"chunkSize","type":"number","default":1000,"optional":true,"id":"recursiveCharacterTextSplitter_1-input-chunkSize-number"},{"label":"Chunk Overlap","name":"chunkOverlap","type":"number","optional":true,"id":"recursiveCharacterTextSplitter_1-input-chunkOverlap-number"}],"inputAnchors":[],"inputs":{"chunkSize":"10000","chunkOverlap":"200"},"outputAnchors":[{"id":"recursiveCharacterTextSplitter_1-output-recursiveCharacterTextSplitter-RecursiveCharacterTextSplitter|TextSplitter","name":"recursiveCharacterTextSplitter","label":"RecursiveCharacterTextSplitter","type":"RecursiveCharacterTextSplitter | TextSplitter"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":377.2436755848381,"y":124.75083618661063},"dragging":false},{"width":300,"height":702,"id":"pineconeUpsert_1","position":{"x":1209.5265490094198,"y":555.4098060796124},"type":"customNode","data":{"id":"pineconeUpsert_1","label":"Pinecone Upsert Document","name":"pineconeUpsert","type":"Pinecone","baseClasses":["Pinecone","VectorStoreRetriever","BaseRetriever"],"category":"Vector Stores","description":"Upsert documents to Pinecone","inputParams":[{"label":"Pinecone Api Key","name":"pineconeApiKey","type":"password","id":"pineconeUpsert_1-input-pineconeApiKey-password"},{"label":"Pinecone Environment","name":"pineconeEnv","type":"string","id":"pineconeUpsert_1-input-pineconeEnv-string"},{"label":"Pinecone Index","name":"pineconeIndex","type":"string","id":"pineconeUpsert_1-input-pineconeIndex-string"},{"label":"Pinecone Namespace","name":"pineconeNamespace","type":"string","placeholder":"my-first-namespace","optional":true,"id":"pineconeUpsert_1-input-pineconeNamespace-string"}],"inputAnchors":[{"label":"Document","name":"document","type":"Document","list":true,"id":"pineconeUpsert_1-input-document-Document"},{"label":"Embeddings","name":"embeddings","type":"Embeddings","id":"pineconeUpsert_1-input-embeddings-Embeddings"}],"inputs":{"document":["{{pdfFile_0.data.instance}}"],"embeddings":"{{huggingFaceInferenceEmbeddings_0.data.instance}}","pineconeEnv":"us-west4-gcp-free","pineconeIndex":"test3","pineconeNamespace":""},"outputAnchors":[{"name":"output","label":"Output","type":"options","options":[{"id":"pineconeUpsert_1-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever","name":"retriever","label":"Pinecone Retriever","type":"Pinecone | VectorStoreRetriever | BaseRetriever"},{"id":"pineconeUpsert_1-output-vectorStore-Pinecone|VectorStore","name":"vectorStore","label":"Pinecone Vector Store","type":"Pinecone | VectorStore"}],"default":"retriever"}],"outputs":{"output":"retriever"},"selected":false},"selected":false,"dragging":false,"positionAbsolute":{"x":1209.5265490094198,"y":555.4098060796124}},{"width":300,"height":332,"id":"conversationalRetrievalQAChain_0","position":{"x":1899.8216794427267,"y":450.1893696549436},"type":"customNode","data":{"id":"conversationalRetrievalQAChain_0","label":"Conversational Retrieval QA Chain","name":"conversationalRetrievalQAChain","type":"ConversationalRetrievalQAChain","baseClasses":["ConversationalRetrievalQAChain","BaseChain","BaseLangChain"],"category":"Chains","description":"Document QA - built on RetrievalQAChain to provide a chat history component","inputParams":[{"label":"System Message","name":"systemMessagePrompt","type":"string","rows":4,"additionalParams":true,"optional":true,"placeholder":"I want you to act as a document that I am having a conversation with. Your name is \"AI Assistant\". You will provide me with answers from the given info. If the answer is not included, say exactly \"Hmm, I am not sure.\" and stop after that. Refuse to answer any question not about the info. Never break character.","id":"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string"}],"inputAnchors":[{"label":"Language Model","name":"model","type":"BaseLanguageModel","id":"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel"},{"label":"Vector Store Retriever","name":"vectorStoreRetriever","type":"BaseRetriever","id":"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever"}],"inputs":{"model":"{{chatAnthropic_0.data.instance}}","vectorStoreRetriever":"{{pineconeUpsert_1.data.instance}}"},"outputAnchors":[{"id":"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain|BaseLangChain","name":"conversationalRetrievalQAChain","label":"ConversationalRetrievalQAChain","type":"ConversationalRetrievalQAChain | BaseChain | BaseLangChain"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":1899.8216794427267,"y":450.1893696549436},"dragging":false},{"width":300,"height":524,"id":"chatAnthropic_0","position":{"x":1245.8605946553682,"y":-11.88809787166781},"type":"customNode","data":{"id":"chatAnthropic_0","label":"ChatAnthropic","name":"chatAnthropic","type":"ChatAnthropic","baseClasses":["ChatAnthropic","BaseChatModel","BaseLanguageModel","BaseLangChain"],"category":"Chat Models","description":"Wrapper around ChatAnthropic large language models that use the Chat endpoint","inputParams":[{"label":"ChatAnthropic Api Key","name":"anthropicApiKey","type":"password","id":"chatAnthropic_0-input-anthropicApiKey-password"},{"label":"Model Name","name":"modelName","type":"options","options":[{"label":"claude-v1","name":"claude-v1"},{"label":"claude-v1-100k","name":"claude-v1-100k"},{"label":"claude-v1.0","name":"claude-v1.0"},{"label":"claude-v1.2","name":"claude-v1.2"},{"label":"claude-v1.3","name":"claude-v1.3"},{"label":"claude-v1.3-100k","name":"claude-v1.3-100k"},{"label":"claude-instant-v1","name":"claude-instant-v1"},{"label":"claude-instant-v1-100k","name":"claude-instant-v1-100k"},{"label":"claude-instant-v1.0","name":"claude-instant-v1.0"},{"label":"claude-instant-v1.1","name":"claude-instant-v1.1"},{"label":"claude-instant-v1.1-100k","name":"claude-instant-v1.1-100k"}],"default":"claude-v1","optional":true,"id":"chatAnthropic_0-input-modelName-options"},{"label":"Temperature","name":"temperature","type":"number","default":0.9,"optional":true,"id":"chatAnthropic_0-input-temperature-number"},{"label":"Max Tokens","name":"maxTokensToSample","type":"number","optional":true,"additionalParams":true,"id":"chatAnthropic_0-input-maxTokensToSample-number"},{"label":"Top P","name":"topP","type":"number","optional":true,"additionalParams":true,"id":"chatAnthropic_0-input-topP-number"},{"label":"Top K","name":"topK","type":"number","optional":true,"additionalParams":true,"id":"chatAnthropic_0-input-topK-number"}],"inputAnchors":[],"inputs":{"modelName":"claude-v1.3-100k","temperature":"0.2","maxTokensToSample":"256","topP":"0.2","topK":"4"},"outputAnchors":[{"id":"chatAnthropic_0-output-chatAnthropic-ChatAnthropic|BaseChatModel|BaseLanguageModel|BaseLangChain","name":"chatAnthropic","label":"ChatAnthropic","type":"ChatAnthropic | BaseChatModel | BaseLanguageModel | BaseLangChain"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":1245.8605946553682,"y":-11.88809787166781},"dragging":false},{"width":300,"height":376,"id":"huggingFaceInferenceEmbeddings_0","position":{"x":662.9775935884045,"y":641.8428439339464},"type":"customNode","data":{"id":"huggingFaceInferenceEmbeddings_0","label":"HuggingFace Inference Embeddings","name":"huggingFaceInferenceEmbeddings","type":"HuggingFaceInferenceEmbeddings","baseClasses":["HuggingFaceInferenceEmbeddings","Embeddings"],"category":"Embeddings","description":"HuggingFace Inference API to generate embeddings for a given text","inputParams":[{"label":"HuggingFace Api Key","name":"apiKey","type":"password","id":"huggingFaceInferenceEmbeddings_0-input-apiKey-password"},{"label":"Model","name":"modelName","type":"string","optional":true,"id":"huggingFaceInferenceEmbeddings_0-input-modelName-string"}],"inputAnchors":[],"inputs":{"modelName":""},"outputAnchors":[{"id":"huggingFaceInferenceEmbeddings_0-output-huggingFaceInferenceEmbeddings-HuggingFaceInferenceEmbeddings|Embeddings","name":"huggingFaceInferenceEmbeddings","label":"HuggingFaceInferenceEmbeddings","type":"HuggingFaceInferenceEmbeddings | Embeddings"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":662.9775935884045,"y":641.8428439339464},"dragging":false},{"width":300,"height":507,"id":"pdfFile_0","position":{"x":821.2515490150286,"y":57.136251502588095},"type":"customNode","data":{"id":"pdfFile_0","label":"Pdf File","name":"pdfFile","type":"Document","baseClasses":["Document"],"category":"Document Loaders","description":"Load data from PDF files","inputParams":[{"label":"Pdf File","name":"pdfFile","type":"file","fileType":".pdf","id":"pdfFile_0-input-pdfFile-file"},{"label":"Usage","name":"usage","type":"options","options":[{"label":"One document per page","name":"perPage"},{"label":"One document per file","name":"perFile"}],"default":"perPage","id":"pdfFile_0-input-usage-options"},{"label":"Metadata","name":"metadata","type":"json","optional":true,"additionalParams":true,"id":"pdfFile_0-input-metadata-json"}],"inputAnchors":[{"label":"Text Splitter","name":"textSplitter","type":"TextSplitter","optional":true,"id":"pdfFile_0-input-textSplitter-TextSplitter"}],"inputs":{"textSplitter":"{{recursiveCharacterTextSplitter_1.data.instance}}","usage":"perPage","metadata":""},"outputAnchors":[{"id":"pdfFile_0-output-pdfFile-Document","name":"pdfFile","label":"Document","type":"Document"}],"outputs":{},"selected":false},"positionAbsolute":{"x":821.2515490150286,"y":57.136251502588095},"selected":false,"dragging":false}],"edges":[{"source":"pineconeUpsert_1","sourceHandle":"pineconeUpsert_1-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever","target":"conversationalRetrievalQAChain_0","targetHandle":"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever","type":"buttonedge","id":"pineconeUpsert_1-pineconeUpsert_1-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever","data":{"label":""}},{"source":"chatAnthropic_0","sourceHandle":"chatAnthropic_0-output-chatAnthropic-ChatAnthropic|BaseChatModel|BaseLanguageModel|BaseLangChain","target":"conversationalRetrievalQAChain_0","targetHandle":"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel","type":"buttonedge","id":"chatAnthropic_0-chatAnthropic_0-output-chatAnthropic-ChatAnthropic|BaseChatModel|BaseLanguageModel|BaseLangChain-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel","data":{"label":""}},{"source":"huggingFaceInferenceEmbeddings_0","sourceHandle":"huggingFaceInferenceEmbeddings_0-output-huggingFaceInferenceEmbeddings-HuggingFaceInferenceEmbeddings|Embeddings","target":"pineconeUpsert_1","targetHandle":"pineconeUpsert_1-input-embeddings-Embeddings","type":"buttonedge","id":"huggingFaceInferenceEmbeddings_0-huggingFaceInferenceEmbeddings_0-output-huggingFaceInferenceEmbeddings-HuggingFaceInferenceEmbeddings|Embeddings-pineconeUpsert_1-pineconeUpsert_1-input-embeddings-Embeddings","data":{"label":""}},{"source":"recursiveCharacterTextSplitter_1","sourceHandle":"recursiveCharacterTextSplitter_1-output-recursiveCharacterTextSplitter-RecursiveCharacterTextSplitter|TextSplitter","target":"pdfFile_0","targetHandle":"pdfFile_0-input-textSplitter-TextSplitter","type":"buttonedge","id":"recursiveCharacterTextSplitter_1-recursiveCharacterTextSplitter_1-output-recursiveCharacterTextSplitter-RecursiveCharacterTextSplitter|TextSplitter-pdfFile_0-pdfFile_0-input-textSplitter-TextSplitter","data":{"label":""}},{"source":"pdfFile_0","sourceHandle":"pdfFile_0-output-pdfFile-Document","target":"pineconeUpsert_1","targetHandle":"pineconeUpsert_1-input-document-Document","type":"buttonedge","id":"pdfFile_0-pdfFile_0-output-pdfFile-Document-pineconeUpsert_1-pineconeUpsert_1-input-document-Document","data":{"label":""}}]}